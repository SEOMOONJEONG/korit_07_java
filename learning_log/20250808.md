interface 복습
casting
objects


# 참조 자료형 캐스팅(Reference Type Casting)
- 객체 지향 프로그래밍(OOP)에서 중요한 요소 중 하나
## 사전 지식
- Java 상에서의 자료형은 크게 두 가지로 구분됨.
  1. 기본 자료형(Private Type) : int, double, char, float, long
  2. 참조 자료형(Reference Type) : 객체를 참조하는 변수로, 클래스나 인터페이스로 생성된 객체
- 참조 자료형 캐스팅이란 ? 객체의 자료형을 변환하는 작업
- int → double / int → long 으로 변경하는 것을 형변환(conversion)이라고 했죠.
## 캐스팅 종류
1. Upcasting : 하위 클래스 타입의 객체를 상위 클래스 타입으로 변환  (자식 → 부모)
2. Downcasting : 상위 클래스 타입의 객체를 하위 클래스 타입으로 변환  (부모 → 자식)

## 미리 기억해두셔야 할 연산자(Operator) : instanceof
ex : 1 + 1 = 2 에서 + 가 연산자 / = 대입 연산자 인 것처럼,
ex : 객체명 instanceof 클래스명 → return true / false

### Upcasting
- 암시적(Implicit)으로 이루어짐
  - 알아서 바뀐다. 근데 알아서 바뀌었는지는 개발자가 알고 있어야 함.
### Downcasting
- 명시적(Explicit)으로 이루어짐
  - 반드시 개발자가 적절한 장소와 시간대에 사용해야 한다.
## 업캐스팅과 다운캐스팅의 활용
- 캐스팅은 다형성(Polymorphism)을 구현할 때 사용. 상위 클래스 타입으로 객체를 처리하면서도
    특정상황에서는 하위 클래스의 고유 기능을 사용 가능
## 장단점
- 장점 : 
  - 코드 유연성 : 업캐스팅을 통해 '다양한 객체를 하나의 상위 클래스 타입으로 관리' 가능
  - 다형성 구현 : 메서드 오버라이딩과 함께 사용하면 코드의 재사용성 ↑
- 단점 : 
  - 다운캐스팅의 위험성 : 잘못 다운캐스팅을 하게 될 수 있음.
    - 상위 클래스 A와 하위 클래스 B, C가 있다고 가정할 때, B의 객체인 b를 A로 업캐스팅 한 후 에 C로 다운캐스팅을 하려고 시도하면 컴파일링 오류 발생.
  - 복잡성 증가 : 코드 가독성이 떨어질 수 있음
    - 이렇게 바꿨다가 저렇게 바꿨다기 하니 때문인데 특히 업캐스팅의 경우 암시적으로 일어나기때문에 어디서 이루어졌는지 확인 못하고 있다가 갑자기 명시적으로 작성하는 다운캐스팅이 튀어나와서 초심자들이 코드 읽는게 어려워지는 경우가 발생할 수 있습니다.
    - 이상의 문제들을 해결하기 위한 연산자가 → instanceof 입니다.
    - 코드 예시
```java
public static void main(String[] args) {
    System.out.println(objectA instanceof ClassA); // 결과값 true / false
}
// objectA : 검사하려는 객체명
// ClassA : 객체가 검사될 클래스 / 인터페이스 
// ClassA 가 instance 하냐 안하냐 true / false
// object(자식) instanceOf type(부모) → type ∋ object = true / type 포함x object = false
// object가 type이거나 type을 상속받는 클래스라면 true를 리턴합니다. 그렇지 않으면 false를 리턴합니다.
```
- return 값은 objectA가 ClassA의 인스턴스이거나 '하위' 클래스의 인스턴스인경우 true 아니면 false

ch15_casting → animals → Animal / Dog / Main



```
  A instanceof B → B가 A를 품냐?
	업캐스팅
        // dog1 = 진또배기 자식   Dog dog1 = new Dog();
        // animal1 = 가짜 자식 (부모가 자식인척함) 근데 진짜 흉내는 못냄   Animal animal1 = dog1;
        // animal2 = 세미자식 (진또베기 흉내못냄)    Animal animal2 = new Dog();
        // animal3 = 진또배기 부모   Animal animal3 = new Animal();
        // Animal = 부모모임 / Dog = 자식모임 {둘다 클래스임}

		다운캐스팅
	    /* Animal animal2(=세미자식) = new Dog(); ← 업캐스팅인데 밑에 dog3 헷갈릴까봐 갖고왔음. */
	    // dog3 =  진또배기 부모(=animal3)가 자식모임 되려고해서 실패함   Dog dog3 = (Dog) animal3; 얘는 거짓임.
	    // dog2 = 속좁아진 세미자식 (진짜자식거 갖다씀)   Dog dog2 = (Dog) animal2;
	    // animal4  = 세미자식 (진또베기 흉내 못냄)   Animal animal4 = new Dog();
        // dog4 = 속좁아진 세미자식 (진짜자식거 갖다씀)  Dog dog4 = (Dog) animal4; 

```
↑ 이거 정리 필요함.

private → method 경유 필수